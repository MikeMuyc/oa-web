{"version":3,"sources":["webpack:///./src/views/authox/pages/user/userEdit.vue?d7f5","webpack:///./src/views/authox/pages/user/userEdit.vue?d12b","webpack:///src/views/authox/pages/user/userEdit.vue","webpack:///./src/views/authox/pages/user/userEdit.vue?43e4","webpack:///./src/views/authox/pages/user/userEdit.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","on","$event","$router","go","_v","stopPropagation","editModal","slot","_s","userInfo","account","displayName","resetPass","description","_f","createTimestamp","editRole","roleColumns","roles","groupColumns","groupsList","saveData","loadData","model","value","callback","$$v","expression","$set","saveRole","roleModal","roleList","targetKeys","roleRender","filterMethod","onChange","staticRenderFns","component"],"mappings":"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","file":"js/chunk-1b08e2c2.d7e6a2bc.js","sourcesContent":["export * from \"-!../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userEdit.vue?vue&type=style&index=0&id=6b336868&lang=scss&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"edit_view\"},[_c('div',{staticClass:\"back\"},[_c('Button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.$router.go(-1)}}},[_vm._v(\"返回\")])],1),_c('Collapse',{attrs:{\"value\":\"1\"}},[_c('Panel',{attrs:{\"name\":\"1\",\"hide-arrow\":true}},[_vm._v(\" 用户详情 \"),_c('Button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){$event.stopPropagation();_vm.editModal = true}}},[_vm._v(\"编辑基本信息\")]),_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('table',{staticClass:\"info_table\",attrs:{\"cellspacing\":\"0\",\"cellpadding\":\"0\",\"border\":\"0\"}},[_c('tr',[_c('td',[_c('span',[_vm._v(\"账号：\")]),_c('span',[_vm._v(_vm._s(_vm.userInfo.account))])]),_c('td',[_c('span',[_vm._v(\"用户名：\")]),_c('span',[_vm._v(_vm._s(_vm.userInfo.displayName))])]),_c('td',[_c('span',{staticClass:\"resetPass\",on:{\"click\":_vm.resetPass}},[_vm._v(\"重置密码\")]),_c('Icon',{attrs:{\"type\":\"md-alert\",\"title\":\"重置密码为123456\"}})],1)]),_c('tr',[_c('td',[_c('span',[_vm._v(\"备注：\")]),_c('span',[_vm._v(_vm._s(_vm.userInfo.description))])]),_c('td',[_c('span',[_vm._v(\"创建时间：\")]),_c('span',[_vm._v(_vm._s(_vm._f(\"dateFormat\")(_vm.userInfo.createTimestamp,\"yyyy-MM-dd HH:mm:ss\")))])])])])])],1)],1),_c('Collapse',{attrs:{\"value\":\"1\"}},[_c('Panel',{attrs:{\"name\":\"1\",\"hide-arrow\":true}},[_vm._v(\" 用户角色 \"),_c('Button',{attrs:{\"type\":\"text\",\"size\":\"small\"},on:{\"click\":function($event){$event.stopPropagation();return _vm.editRole($event)}}},[_vm._v(\"编辑用户角色\")]),_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('Table',{attrs:{\"columns\":_vm.roleColumns,\"data\":_vm.userInfo.roles,\"size\":\"small\",\"stripe\":\"\"}})],1)],1)],1),_c('Collapse',{attrs:{\"value\":\"1\"}},[_c('Panel',{attrs:{\"name\":\"1\",\"hide-arrow\":true}},[_vm._v(\" 用户加入的组 \"),_c('div',{attrs:{\"slot\":\"content\"},slot:\"content\"},[_c('Table',{attrs:{\"columns\":_vm.groupColumns,\"data\":_vm.groupsList,\"size\":\"small\",\"stripe\":\"\"}})],1)])],1),_c('Modal',{attrs:{\"title\":\"编辑用户\"},on:{\"on-ok\":_vm.saveData,\"on-cancel\":function($event){_vm.editModal = false;_vm.loadData();}},model:{value:(_vm.editModal),callback:function ($$v) {_vm.editModal=$$v},expression:\"editModal\"}},[_c('Form',{attrs:{\"model\":_vm.userInfo,\"label-width\":60}},[_c('FormItem',{attrs:{\"label\":\"*账号\"}},[_c('Input',{attrs:{\"type\":\"text\"},model:{value:(_vm.userInfo.account),callback:function ($$v) {_vm.$set(_vm.userInfo, \"account\", $$v)},expression:\"userInfo.account\"}})],1),_c('FormItem',{attrs:{\"label\":\"*用户名\"}},[_c('Input',{attrs:{\"type\":\"text\"},model:{value:(_vm.userInfo.displayName),callback:function ($$v) {_vm.$set(_vm.userInfo, \"displayName\", $$v)},expression:\"userInfo.displayName\"}})],1),_c('FormItem',{attrs:{\"label\":\"*备注\"}},[_c('Input',{attrs:{\"type\":\"text\"},model:{value:(_vm.userInfo.description),callback:function ($$v) {_vm.$set(_vm.userInfo, \"description\", $$v)},expression:\"userInfo.description\"}})],1)],1)],1),_c('Modal',{attrs:{\"title\":\"编辑用户角色\"},on:{\"on-ok\":_vm.saveRole,\"on-cancel\":function($event){_vm.roleModal = false}},model:{value:(_vm.roleModal),callback:function ($$v) {_vm.roleModal=$$v},expression:\"roleModal\"}},[_c('Transfer',{attrs:{\"data\":_vm.roleList,\"target-keys\":_vm.targetKeys,\"render-format\":_vm.roleRender,\"filterable\":\"\",\"filter-method\":_vm.filterMethod,\"titles\":['角色列表','已有角色']},on:{\"on-change\":_vm.onChange}})],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n    <div class=\"edit_view\">\r\n        <div class=\"back\">\r\n            <Button type=\"primary\" @click=\"$router.go(-1)\">返回</Button>\r\n        </div>\r\n        <Collapse value=\"1\">\r\n            <Panel name=\"1\" :hide-arrow=\"true\">\r\n                用户详情\r\n                <Button type=\"text\" size=\"small\" @click.stop=\"editModal = true\">编辑基本信息</Button>\r\n                <div slot=\"content\">\r\n                    <table cellspacing=\"0\" cellpadding=\"0\" border=\"0\" class=\"info_table\">\r\n                        <tr>\r\n                            <td>\r\n                                <span>账号：</span>\r\n                                <span>{{userInfo.account}}</span>\r\n                            </td>\r\n                            <td>\r\n                                <span>用户名：</span>\r\n                                <span>{{userInfo.displayName}}</span>\r\n                            </td>\r\n                            <td>\r\n                                <span class=\"resetPass\" @click=\"resetPass\">重置密码</span>\r\n                                <Icon type=\"md-alert\" title=\"重置密码为123456\" />\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td>\r\n                                <span>备注：</span>\r\n                                <span>{{userInfo.description}}</span>\r\n                            </td>\r\n                            <td>\r\n                                <span>创建时间：</span>\r\n                                <span>{{userInfo.createTimestamp | dateFormat(\"yyyy-MM-dd HH:mm:ss\")}}</span>\r\n                            </td>\r\n                        </tr>\r\n                    </table>\r\n                </div>\r\n            </Panel>\r\n        </Collapse>\r\n        <Collapse value=\"1\">\r\n            <Panel name=\"1\" :hide-arrow=\"true\">\r\n                用户角色\r\n                <Button type=\"text\" size=\"small\" @click.stop=\"editRole\">编辑用户角色</Button>\r\n                <div slot=\"content\">\r\n                    <Table :columns=\"roleColumns\" :data=\"userInfo.roles\" size=\"small\" stripe></Table>\r\n                </div>\r\n            </Panel>\r\n        </Collapse>\r\n        <Collapse value=\"1\">\r\n            <Panel name=\"1\" :hide-arrow=\"true\">\r\n                用户加入的组\r\n                <div slot=\"content\">\r\n                    <Table :columns=\"groupColumns\" :data=\"groupsList\" size=\"small\" stripe></Table>\r\n                </div>\r\n            </Panel>\r\n        </Collapse>\r\n        <Modal v-model=\"editModal\" title=\"编辑用户\" @on-ok=\"saveData\" @on-cancel=\"editModal = false;loadData();\">\r\n            <Form :model=\"userInfo\" :label-width=\"60\">\r\n                <FormItem label=\"*账号\">\r\n                    <Input type=\"text\" v-model=\"userInfo.account\"></Input>\r\n                </FormItem>\r\n                <FormItem label=\"*用户名\">\r\n                    <Input type=\"text\" v-model=\"userInfo.displayName\"></Input>\r\n                </FormItem>\r\n                <FormItem label=\"*备注\">\r\n                    <Input type=\"text\" v-model=\"userInfo.description\"></Input>\r\n                </FormItem>\r\n            </Form>\r\n        </Modal>\r\n        <Modal v-model=\"roleModal\" title=\"编辑用户角色\" @on-ok=\"saveRole\" @on-cancel=\"roleModal = false\">\r\n            <Transfer :data=\"roleList\" :target-keys=\"targetKeys\" :render-format=\"roleRender\" filterable :filter-method=\"filterMethod\"\r\n                @on-change=\"onChange\" :titles=\"['角色列表','已有角色']\"></Transfer>\r\n        </Modal>\r\n    </div>\r\n</template>\r\n<script>\r\n    import {\r\n        Collapse, Button, Modal,\r\n        Panel,\r\n        Transfer, FormItem, Form, Input, Table\r\n    } from 'iview';\r\n\r\n    export default {\r\n        components: {\r\n            Collapse,\r\n            Button,\r\n            Modal,\r\n            Panel,\r\n            Transfer,\r\n            Form,\r\n            FormItem,\r\n            Input,\r\n            Table\r\n        },\r\n        data() {\r\n            return {\r\n                editModal: false,\r\n                roleModal: false,\r\n                id: this.$route.query.id,\r\n                roleList: [],\r\n                targetKeys: [],\r\n                groupsList: [],\r\n                roleColumns: [{\r\n                        title: \"角色标识\",\r\n                        key: \"role\"\r\n                    },\r\n                    {\r\n                        title: \"角色名称\",\r\n                        key: \"name\"\r\n                    },\r\n                    {\r\n                        title: \"备注\",\r\n                        key: \"des\"\r\n                    },\r\n                    {\r\n                        title: \"创建时间\",\r\n                        key: \"\",\r\n                        render: (h, params) => {\r\n                            return h(\r\n                                \"div\",\r\n                                params.row.createtimestamp ?\r\n                                this.$utils.dateFormat(\r\n                                    new Date(params.row.createtimestamp),\r\n                                    \"yyyy-MM-dd HH:mm:ss\"\r\n                                ) :\r\n                                \"\"\r\n                            );\r\n                        }\r\n                    }\r\n                ],\r\n                groupColumns: [{\r\n                        title: \"组名\",\r\n                        key: \"displayName\"\r\n                    },\r\n                    {\r\n                        title: \"备注\",\r\n                        key: \"des\"\r\n                    }\r\n                ],\r\n                journalColumns: [{\r\n                        title: \"操作记录\",\r\n                        key: \"role\"\r\n                    },\r\n                    {\r\n                        title: \"操作时间\",\r\n                        key: \"name\"\r\n                    }\r\n                ],\r\n                userInfo: {\r\n                    account: \"\",\r\n                    displayName: \"\",\r\n                    description: \"\"\r\n                }\r\n            };\r\n        },\r\n        created() {\r\n            this.loadData();\r\n            this.getRoleList();\r\n            this.getGroups();\r\n        },\r\n        methods: {\r\n            //定义方法\r\n            loadData() {\r\n                this.$http\r\n                    .get(\"/rest/authox/users/\" + this.id)\r\n                    .then(res => {\r\n                        this.userInfo = res.data;\r\n                    })\r\n                    .catch(err => {\r\n                        console.log(err.data);\r\n                    });\r\n            },\r\n            getRoleList() {\r\n                this.$http\r\n                    .get(\"/rest/authox/roles\")\r\n                    .then(res => {\r\n                        this.roleList = res.data;\r\n                        this.roleList.forEach((item, index) => {\r\n                            item.key = index + 1;\r\n                        });\r\n                    })\r\n                    .catch(err => {\r\n                        console.log(err.data);\r\n                    });\r\n            },\r\n            getGroups() {\r\n                this.$http\r\n                    .get(\"/rest/authox/users/\" + this.id + \"/groups\")\r\n                    .then(res => {\r\n                        this.groupsList = res.data;\r\n                    })\r\n                    .catch(err => {\r\n                        console.log(err.data);\r\n                    });\r\n            },\r\n            saveData() {\r\n                this.$http\r\n                    .post(\"/rest/authox/users/\" + this.id, this.userInfo)\r\n                    .then(res => {\r\n                        this.editModal = false;\r\n                        this.$Message.success('保存成功！');\r\n                        this.loadData();\r\n                    })\r\n                    .catch(err => {\r\n                        this.$Message.error('保存失败！');\r\n                        console.log(err.data);\r\n                    });\r\n            },\r\n            editRole() {\r\n                this.targetKeys = [];\r\n                this.userInfo.roles.forEach(role => {\r\n                    this.roleList.forEach(item => {\r\n                        if (role.role == item.role) {\r\n                            this.targetKeys.push(item.key);\r\n                        }\r\n                    })\r\n                })\r\n                this.roleModal = true;\r\n            },\r\n            saveRole() {\r\n                let roles = [];\r\n                this.targetKeys.forEach(item => {\r\n                    roles.push(this.roleList[item - 1].role)\r\n                })\r\n                this.$http\r\n                    .post(\"/rest/authox/users/\" + this.id + \"/roles\", roles)\r\n                    .then(res => {\r\n                        this.roleModal = false;\r\n                        this.$Message.success('保存成功！');\r\n                        this.loadData();\r\n                    })\r\n                    .catch(err => {\r\n                        this.$Message.error('保存失败！');\r\n                        console.log(err.data);\r\n                    });\r\n            },\r\n            resetPass() {\r\n                this.$Modal.confirm({\r\n                    title: '重置密码',\r\n                    content: '确认重置该账号密码为123456？',\r\n                    onOk: () => {\r\n                        this.$http\r\n                            .post(\"/rest/authox/users/\" + this.id + \"/resetPassword\")\r\n                            .then(res => {\r\n                                this.$Message.success('重置成功！');\r\n                            })\r\n                            .catch(err => {\r\n                                this.$Message.error('重置失败！');\r\n                                console.log(err.data);\r\n                            });\r\n                    },\r\n                    onCancel: () => {}\r\n                });\r\n            },\r\n            filterMethod(data, query) {\r\n                return data.name.indexOf(query) > -1;\r\n            },\r\n            roleRender(item) {\r\n                return item.name;\r\n            },\r\n            onChange(newTargetKeys) {\r\n                this.targetKeys = newTargetKeys;\r\n            }\r\n        }\r\n    };\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n    .edit_view {\r\n        i {\r\n            font-size: 16px;\r\n            vertical-align: text-bottom;\r\n            margin-left: 5px;\r\n        }\r\n\r\n        .resetPass {\r\n            color: #337ab7;\r\n            cursor: pointer;\r\n\r\n            &:hover {\r\n                color: #23527c;\r\n                text-decoration: underline;\r\n            }\r\n        }\r\n    }\r\n</style>\r\n","import mod from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userEdit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../node_modules/babel-loader/lib/index.js!../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./userEdit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./userEdit.vue?vue&type=template&id=6b336868&scoped=true&\"\nimport script from \"./userEdit.vue?vue&type=script&lang=js&\"\nexport * from \"./userEdit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./userEdit.vue?vue&type=style&index=0&id=6b336868&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"6b336868\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}