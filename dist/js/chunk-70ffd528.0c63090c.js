(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-70ffd528"],{a66c:function(t,e,a){"use strict";a("b8bf")},b759:function(t,e,a){"use strict";a.r(e);var o=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"table_view"},[a("div",{staticClass:"tool_bar"},[a("Select",{staticStyle:{width:"80px","margin-right":"10px"},model:{value:t.key,callback:function(e){t.key=e},expression:"key"}},t._l(t.searchType,(function(e){return a("Option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1),a("Input",{staticStyle:{width:"200px","margin-right":"10px"},attrs:{placeholder:"输入查询内容"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.loadData(e)}},model:{value:t.searchName,callback:function(e){t.searchName=e},expression:"searchName"}}),a("Button",{attrs:{type:"primary"},on:{click:t.loadData}},[t._v("查询")]),a("div",{staticClass:"buttons"},[a("Button",{attrs:{type:"primary"},on:{click:t.addGroup}},[t._v("新建群组")])],1)],1),a("div",{ref:"table_list",staticClass:"table_list"},[a("Table",{attrs:{height:t.tableHeight,loading:t.loading,columns:t.columns,data:t.dataList,size:"small",stripe:""}})],1),a("Modal",{attrs:{title:"新建群组"},on:{"on-ok":t.saveData,"on-cancel":function(e){t.modal=!1}},model:{value:t.modal,callback:function(e){t.modal=e},expression:"modal"}},[a("Form",{attrs:{model:t.groupItem,"label-width":60}},[a("FormItem",{attrs:{label:"*组名"}},[a("Input",{attrs:{type:"text"},model:{value:t.groupItem.displayName,callback:function(e){t.$set(t.groupItem,"displayName",e)},expression:"groupItem.displayName"}})],1),a("FormItem",{attrs:{label:"*备注"}},[a("Input",{attrs:{type:"text"},model:{value:t.groupItem.des,callback:function(e){t.$set(t.groupItem,"des",e)},expression:"groupItem.des"}})],1)],1)],1)],1)},n=[],l=(a("4160"),a("b0c0"),a("159b"),a("e069")),s={components:{Select:l["Select"],Option:l["Option"],Form:l["Form"],FormItem:l["FormItem"],Input:l["Input"],Modal:l["Modal"],Table:l["Table"],Button:l["Button"]},data:function(){var t=this;return{modal:!1,loading:!1,tableHeight:document.documentElement.clientHeight-120,key:"displayName",searchName:"",searchType:[{label:"组名",value:"displayName"}],columns:[{title:"组名称",key:"displayName"},{title:"角色",key:"",render:function(t,e){var a=[];return e.row.roles.forEach((function(e){a.push(t("Tag",{props:{type:"border",color:"primary"}},e.name))})),t("div",a)}},{title:"备注",key:"des"},{title:"创建时间",key:"",render:function(e,a){return e("div",a.row.createtimestamp?t.$utils.dateFormat(new Date(a.row.createtimestamp),"yyyy-MM-dd HH:mm:ss"):"")}},{title:"操作",key:"",align:"right",render:function(e,a){return e("div",[e("Button",{props:{type:"text",size:"small"},style:{marginRight:"5px",color:"#2372fe"},on:{click:function(){t.editGroup(a.row.groupTag)}}},"管理"),e("span",{style:{marginRight:"5px",color:"#ccc"}},"|"),e("Button",{props:{type:"text",size:"small"},style:{color:"#e93820"},on:{click:function(){t.deleteGroup(a.row.groupTag)}}},"删除")])}}],dataList:[],groupItem:{displayName:"",des:"",groupTag:null}}},created:function(){this.loadData()},methods:{loadData:function(){var t=this;this.loading=!0,this.$http.get("/rest/authox/groups/like?key="+this.key+"&value="+this.searchName).then((function(e){t.loading=!1,t.dataList=e.data})).catch((function(e){t.loading=!1,console.log(e.data)}))},addGroup:function(){this.groupItem={displayName:"",des:"",groupTag:null},this.modal=!0},editGroup:function(t){this.$router.push({path:"/main/authox/group/groupEdit",query:{id:t}})},saveData:function(){var t=this;this.$http.post("/rest/authox/groups",this.groupItem).then((function(e){t.modal=!1,t.loadData(),t.$Message.success("添加成功！")})).catch((function(e){t.$Message.error("添加失败！"),console.log(e.data)}))},deleteGroup:function(t){var e=this;this.$Modal.confirm({title:"确认删除该群组？",onOk:function(){e.$http.delete("/rest/authox/groups/"+t).then((function(t){e.$Message.success("删除成功！"),e.loadData()})).catch((function(t){e.$Message.error("删除失败！"),console.log(t.data)}))}})}}},i=s,r=(a("a66c"),a("2877")),c=Object(r["a"])(i,o,n,!1,null,"96cbb1d2",null);e["default"]=c.exports},b8bf:function(t,e,a){}}]);
//# sourceMappingURL=chunk-70ffd528.0c63090c.js.map